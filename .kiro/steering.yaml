---
# Bitpixi's Bar Development Steering Configuration
# This file defines development standards and conventions for the project

project:
  name: "Bitpixi's Bar"
  description: "Reddit-integrated cozy drink-making game showcasing Kiro's spec-driven workflow"

technology:
  language: "TypeScript"
  ui_framework: "Devvit Web (React-like)"
  graphics: "CSS/HTML (no 3D graphics)"
  build_tool: "Vite"
  package_manager: "pnpm"
  testing: "Vitest"

conventions:
  naming:
    components: "PascalCase"  # React components, classes
    functions: "camelCase"    # Functions and methods
    variables: "camelCase"    # Variables and properties
    constants: "SCREAMING_SNAKE_CASE"  # Constants
    files: "kebab-case"       # File names
    directories: "kebab-case" # Directory names

  code_generation:
    generated_paths:
      types: "packages/types/src/gen/*"
      logic: "packages/logic/src/gen/*"
      validators: "packages/logic/src/gen/validators.ts"
    restriction: "Generated code MUST only exist in designated gen/ directories"

testing:
  framework: "Vitest"
  coverage:
    target: 85  # Minimum coverage percentage
    packages: ["packages/logic"]  # Packages requiring coverage
  determinism:
    requirement: "All pure functions MUST accept optional seed parameter"
    purpose: "Ensure reproducible behavior for testing"

documentation:
  automation:
    changelog: "Auto-append changes to CHANGELOG.md when specs change"
    readme: "Auto-update README.md with workflow documentation"
  format: "Markdown with Mermaid diagrams for workflows"

development:
  workflow: "spec-driven"
  phases:
    - "Requirements (EARS format)"
    - "Design (comprehensive architecture)"
    - "Implementation (task-based)"
  
  quality:
    linting: "ESLint with TypeScript rules"
    formatting: "Prettier"
    type_checking: "Strict TypeScript"

game_design:
  progression:
    unlock_threshold: 1  # Drinks needed to unlock custom components
  themes:
    default_featured:
      - "girly"
      - "spooky_halloween" 
      - "cyberpunk_neon"
  aesthetic: "Cozy, welcoming, supports multiple themes"

redis:
  client: "ioredis"
  patterns:
    - "Atomic operations via Lua scripts"
    - "Rate limiting with sliding windows"
    - "Leaderboards with sorted sets"
  
devvit:
  integration: "Reddit posts with community voting"
  post_types:
    - "SubmitDrinkPost"
    - "SubmitComponentPost" 
    - "VoteFeedPost"
    - "FeaturedMenuPost"
